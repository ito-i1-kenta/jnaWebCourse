<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>給与情報検索</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>

    <!-- semantic.css  -->
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/semantic.min.css">

    <!-- semantic.js  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/semantic.min.js"></script>

    <link th:href="@{/css/tableScroll.css}" rel="stylesheet">

</head>
<body>
<!-- th:replaceを使用して、 メニュー用のフラグメントを読込みます -->
<div th:replace="common/menu :: menu_fragment"></div>
<div class="ui container" th:object="${salaryViewerRequest}">
    <div class="ui vertical segment">
        <h1 class="ui top header">給与情報検索
            <div class="sub header">給与情報を検索します</div>
        </h1>
    </div>

    <div class="ui error message" th:if="${#fields.hasErrors('*')}">
        <div class="header">
            エラー
        </div>
        <ul class="list">
            <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
        </ul>
    </div>

    <div class="ui error message" th:if="${error}">
        <div class="header">
            エラー
        </div>
        <p th:text="#{salaryViewer.error}"></p>
    </div>

    <div class="ui success message" th:if="${complete}">
        <div class="header">
            成功
        </div>
        <p th:text="#{register.complete}"></p>
    </div>


    <form class="ui form" enctype="multipart/form-data" method="post" th:action="@{/salaryViewer}">
        <div class="ui grid">
            <div class="twelve wide column">
                <div class="row">
                    <div class="required field">
                        <label>社員番号</label>
                        <input type="text" th:field="*{empNo}" placeholder="6桁で入力してください。">
                    </div>
                </div>
            </div>
            <div class="twelve wide column">
                <div class="row">
                    <div class="required field">
                        <label>パスワード</label>
                        <input type="text" th:field="*{password}" placeholder="入力してください。">
                    </div>
                </div>
            </div>
            <div class="ui sixteen wide column">
                <div class="row">
                    <div class="ui fluid divider"></div>
                </div>
                <div class="row">
                    <button class="ui green button">検索</button>
                </div>
            </div>
            <div class="sixteen wide column"
                 th:if="${salaryViewerResponse != null && salaryViewerResponse.responseEntityList != null}">
                <div class="scroll-table">
                    <table class="ui sortable teal celled unstackable table">
                        <thead>
                        <tr>
                            <th>社員番号</th>
                            <th>氏名</th>
                            <th>役職</th>
                            <th>基本給</th>
                            <th>役職手当</th>
                            <th>総支給額</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="response, responseStat : ${salaryViewerResponse.responseEntityList}">
                            <td th:text="${response.getEmpNo()}"></td>
                            <td th:text="${response.getName()}"></td>
                            <td th:text="${response.getPositionName()}"></td>
                            <td th:text="${response.getBasicSalary()}"></td>
                            <td th:text="${response.getPostAllowance()}"></td>
                            <td th:text="${response.getBasicSalary() + response.getPostAllowance()}"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </form>

</div>
</body>
</html>